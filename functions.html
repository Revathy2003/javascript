<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>functions</title>
</head>
<body>
    <script>
        function say(message) {
    console.log(message);
}

        let result = say('Hello');
        console.log('Result:', result);
        // functions as first class name citizens
        function compareBy(propertyName) {
  return function (a, b) {
    let x = a[propertyName],
      y = b[propertyName];

    if (x > y) {
      return 1;
    } else if (x < y) {
      return -1;
    } else {
      return 0;
    }
  };
}
let products = [
  { name: 'iPhone', price: 900 },
  { name: 'Samsung Galaxy', price: 850 },
  { name: 'Sony Xperia', price: 700 },
];

// sort products by name
console.log('Products sorted by name:');
products.sort(compareBy('name'));

console.table(products);

// sort products by price
console.log('Products sorted by price:');
products.sort(compareBy('price'));
console.table(products);
// convert fun
let length= 2.54;
function cmToIn(length) {
  return length / 2.54;
}

function inToCm(length) {
  return length * 2.54;
}

function convert(fn, length) {
  return fn(length);
}

let inches = convert(cmToIn, 10);
console.log(inches);

let cm = convert(inToCm, 10);
console.log(cm);
 // anonymous function
 // Example of anonymous function as an argument to setTimeout
setTimeout(function() {
    console.log("This is an anonymous function as an argument to setTimeout");
}, 1000);

// Example of IIFE (Immediately Invoked Function Expression)
(function() {
    console.log("This anonymous function is invoked immediately!");
})();

// Example of assigning an anonymous function to a variable
const greet = function(name) {
    console.log("Hello, " + name);
};

// Calling the anonymous function via the variable
greet("Alice");

// Example of named function assigned to a variable
const namedFunction = function greetNamed(name) {
    console.log("Hello from named function, " + name);
};

// Calling the named function via the variable
namedFunction("Babu");

// pass by value of reference of value
let person = {
  name: 'John',
  age: 25,
};

function increaseAge(obj) {
  obj.age += 1;

  // reference another object
  obj = { name: 'Jane', age: 22 };
}

increaseAge(person);

console.log(person);
// recursive function
function countDown(fromNumber) {
    console.log(fromNumber);

    let nextNumber = fromNumber - 1;

    if (nextNumber > 0) {
        countDown(nextNumber);
    }
}
countDown(3);
// sum of naturalnumber in recursive
let n = 5;

function sum(n) {
  console.log("Entering sum with n =", n);
  if (n <= 1) {
    console.log("Base case reached with n =", n);
    return n;
  }
  let result = n + sum(n - 1);
  console.log("Returning from sum with n =", n, "result =", result);
  return result;
}

console.log("Final result:", sum(n));
// parameter with function
function add(x = 1, y = x, z = x + y) {  // x=1,y=1,x+y=2 totally 1+1+2=4
    return x + y + z;
}

console.log(add()); // output was 4
//
function add(x, y = 1, z = 2) {
    console.log( arguments.length );
    return x + y + z;
}

add(10); // x=10,dfault default_y val =1,default_z=2,argument_length passed= 1
add(10, 20); //  here two length are passed so x=10, y=20, z is not provided but arg_length = 2
add(10, 20, 30); // we x=10,y=20,z=30 so arg_val=3
  
// objects
// Constructor Function
function Product(name, price) {
    this.name = name;
    this.price = price;
}

// Prototype Method
Product.prototype.getInfo = function() {
    return `${this.name} costs $${this.price}`;
};

// Prototypal Inheritance
function Electronic(name, price, brand) {
    Product.call(this, name, price);
    this.brand = brand;
}

// Setting up inheritance
Electronic.prototype = Object.create(Product.prototype);
Electronic.prototype.constructor = Electronic;

// Adding method to Electronic prototype
Electronic.prototype.getBrandInfo = function() {
    return `${this.name} is made by ${this.brand}`;
};

// Using 'this' keyword and 'globalThis'
function showGlobalThis() {
    console.log(this); // In non-strict mode, this will be globalThis
}
showGlobalThis.call(globalThis); // Explicitly calling with globalThis

// Object Properties and for...in Loop
let phone = new Electronic("Smartphone", 999, "TechBrand");
for (let key in phone) {
    if (phone.hasOwnProperty(key)) {
        console.log(`Own Property: ${key} = ${phone[key]}`);
    } else {
        console.log(`Inherited Property: ${key} = ${phone[key]}`);
    }
}

// Factory Function
function createGadget(name, price, brand) {
    return {
        name,
        price,
        brand,
        getInfo() {
            return `${this.name} costs $${this.price} and is made by ${this.brand}`;
        }
    };
}

let tablet = createGadget("Tablet", 499, "GadgetBrand");
console.log(tablet.getInfo());

// Object Destructuring
const { name: tabletName, price: tabletPrice } = tablet;
console.log(`Destructured: ${tabletName} costs $${tabletPrice}`);

// Optional Chaining Operator
console.log(tablet.specs?.cpu ?? "Specs not available");

// Object Literal Syntax Extensions
const warrantyPeriod = 2;
const laptop = {
    name: "Laptop",
    price: 1299,
    brand: "LaptopBrand",
    warrantyPeriod, // Shorthand property
    getWarrantyInfo() {
        return `${this.name} comes with a ${this.warrantyPeriod}-year warranty.`;
    }
};
console.log(laptop.getWarrantyInfo());

// Using Object.getOwnPropertyNames to list own properties
console.log(Object.getOwnPropertyNames(phone));

// Checking enumerable properties
console.log(Object.keys(phone)); // Only enumerable own properties



</script>

</body>
</html>
